{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "glowing-scroll-indicator",
  "type": "registry:ui",
  "dependencies": [
    "framer-motion"
  ],
  "files": [
    {
      "path": "components/ui/glowing-scroll-indicator.tsx",
      "content": "'use client';\r\n\r\nimport { motion, MotionValue, useScroll, useTransform } from 'framer-motion';\r\nimport React, { useEffect } from 'react';\r\n\r\nconst BARS = 40;\r\n\r\nconst ScrollBar = ({\r\n    index,\r\n    scrollProgress\r\n}: {\r\n    index: number;\r\n    scrollProgress: MotionValue<number>;\r\n}) => {\r\n    const thisBarPosition = index / BARS;\r\n    const preStep = Math.max(0, (index - 3) / BARS);\r\n    const postStep = Math.min(1, (index + 3) / BARS);\r\n\r\n    const height = useTransform(\r\n        scrollProgress,\r\n        [0, preStep, thisBarPosition, postStep, 1],\r\n        [5, 15, 35, 15, 5]\r\n    );\r\n    const opacity = useTransform(\r\n        scrollProgress,\r\n        [0, preStep, thisBarPosition, postStep, 1],\r\n        [0.1, 0.4, 1, 0.4, 0.1]\r\n    );\r\n    const width = useTransform(scrollProgress, [0, thisBarPosition, 1], [1.5, 5, 1.5]);\r\n\r\n    return (\r\n        <motion.div\r\n            className=\"bg-white dark:bg-white\"\r\n            style={{\r\n                height: height,\r\n                opacity: useTransform(opacity, (value) => `${value}`),\r\n                width: useTransform(width, (value) => `${value}px`)\r\n            }}\r\n        />\r\n    );\r\n};\r\n\r\nconst ScrollIndicatorBars = ({\r\n    container,\r\n    direction\r\n}: {\r\n    container: HTMLElement;\r\n    direction: 'vertical' | 'horizontal';\r\n}) => {\r\n    const ref = React.useRef<HTMLElement>(container);\r\n\r\n    React.useEffect(() => {\r\n        ref.current = container;\r\n    }, [container]);\r\n\r\n    const { scrollXProgress, scrollYProgress } = useScroll({ container: ref });\r\n\r\n    const scrollProgress = direction === 'vertical' ? scrollYProgress : scrollXProgress;\r\n    const left = useTransform(scrollProgress, [0, 1], [0, 100]);\r\n\r\n    return (\r\n        <div className=\"flex items-end justify-center gap-1 md:gap-2 relative w-fit\">\r\n            {Array.from({ length: BARS }).map((_, index) => (\r\n                <ScrollBar\r\n                    key={`scroll-bar-${index}`}\r\n                    index={index}\r\n                    scrollProgress={scrollProgress}\r\n                />\r\n            ))}\r\n            <motion.div\r\n                className=\"h-20 bg-red-700 w-1 absolute bottom-0 left-1/2 -translate-x-1/2\"\r\n                style={{ left: useTransform(left, (value) => `${value}%`) }}\r\n            >\r\n                <div className=\"w-3.5 h-3.5 rounded-full shadow-sm bg-red-500 absolute top-0 left-1/2 -translate-x-1/2\" />\r\n            </motion.div>\r\n        </div>\r\n    );\r\n};\r\n\r\ninterface GlowingScrollIndicatorProps {\r\n    scrollContainerId?: string;\r\n    direction?: 'vertical' | 'horizontal';\r\n}\r\n\r\nexport function GlowingScrollIndicator({\r\n    scrollContainerId = 'scroll-target',\r\n    direction = 'vertical'\r\n}: GlowingScrollIndicatorProps) {\r\n    const [container, setContainer] = React.useState<HTMLElement | null>(null);\r\n\r\n    useEffect(() => {\r\n        const scrollContainer = document.getElementById(scrollContainerId);\r\n        if (scrollContainer) setContainer(scrollContainer);\r\n    }, [scrollContainerId]);\r\n\r\n    if (!container) return null;\r\n\r\n    return <ScrollIndicatorBars container={container} direction={direction} />;\r\n}\r\n\r\nexport default GlowingScrollIndicator;\r\n",
      "type": "registry:ui",
      "target": "components/ui/glowing-scroll-indicator.tsx"
    }
  ]
}