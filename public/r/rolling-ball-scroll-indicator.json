{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "rolling-ball-scroll-indicator",
  "type": "registry:ui",
  "dependencies": [
    "framer-motion"
  ],
  "files": [
    {
      "path": "components/ui/rolling-ball-scroll-indicator.tsx",
      "content": "'use client';\r\n\r\nimport { motion, MotionValue, useScroll, useSpring, useTransform } from 'framer-motion';\r\nimport React, { useEffect } from 'react';\r\n\r\nconst BARS = 40;\r\n\r\nconst ScrollBar = ({\r\n    index,\r\n    scrollProgress\r\n}: {\r\n    index: number;\r\n    scrollProgress: MotionValue<number>;\r\n}) => {\r\n    const thisBarPosition = index / BARS;\r\n\r\n    const distance = useTransform(scrollProgress, (value) => Math.abs(value - thisBarPosition));\r\n\r\n    const springDistance = useSpring(distance, { stiffness: 700, damping: 40 });\r\n\r\n    const height = useTransform(springDistance, [0, 1], [0, 35]);\r\n    const opacity = useTransform(springDistance, [0, 0.05, 1], [0, 0.2, 1]);\r\n\r\n    return (\r\n        <motion.div\r\n            className=\"w-0.5 bg-white\"\r\n            style={{\r\n                height: height,\r\n                opacity: useTransform(opacity, (value) => `${value}`)\r\n            }}\r\n        />\r\n    );\r\n};\r\n\r\nconst ScrollIndicatorBars = ({\r\n    container,\r\n    direction\r\n}: {\r\n    container: HTMLElement;\r\n    direction: 'vertical' | 'horizontal';\r\n}) => {\r\n    const ref = React.useRef<HTMLElement>(container);\r\n\r\n    React.useEffect(() => {\r\n        ref.current = container;\r\n    }, [container]);\r\n\r\n    const { scrollXProgress, scrollYProgress } = useScroll({ container: ref });\r\n\r\n    const springDistance = useSpring(direction === 'vertical' ? scrollYProgress : scrollXProgress, {\r\n        stiffness: 700,\r\n        damping: 40\r\n    });\r\n\r\n    const left = useTransform(springDistance, [0, 1], [0, 100]);\r\n    const rotateZ = useTransform(springDistance, [0, 1], [0, 3000]);\r\n\r\n    return (\r\n        <div className=\"flex items-end justify-center gap-1 md:gap-2 relative w-fit\">\r\n            {Array.from({ length: BARS }).map((_, index) => (\r\n                <ScrollBar\r\n                    key={`scroll-bar-${index}`}\r\n                    index={index}\r\n                    scrollProgress={direction === 'vertical' ? scrollYProgress : scrollXProgress}\r\n                />\r\n            ))}\r\n            <motion.div\r\n                className=\"h-3.5 w-1 rounded-full absolute bottom-0\"\r\n                style={{ left: useTransform(left, (value) => `${value}%`) }}\r\n            >\r\n                <motion.div\r\n                    style={{ rotateZ: useTransform(rotateZ, (value) => `${value}deg`) }}\r\n                    className=\"w-3.5 h-3.5 rounded-full bg-gradient-to-b from-yellow-500 to-green-500 from-50% to-50% absolute top-0 left-1/2 -translate-x-1/2\"\r\n                />\r\n            </motion.div>\r\n        </div>\r\n    );\r\n};\r\n\r\ninterface RollingBallScrollIndicatorProps {\r\n    scrollContainerId?: string;\r\n    direction?: 'vertical' | 'horizontal';\r\n}\r\n\r\nexport function RollingBallScrollIndicator({\r\n    scrollContainerId = 'scroll-target',\r\n    direction = 'vertical'\r\n}: RollingBallScrollIndicatorProps) {\r\n    const [container, setContainer] = React.useState<HTMLElement | null>(null);\r\n\r\n    useEffect(() => {\r\n        const scrollContainer = document.getElementById(scrollContainerId);\r\n        if (scrollContainer) setContainer(scrollContainer);\r\n    }, [scrollContainerId]);\r\n\r\n    if (!container) return null;\r\n\r\n    return <ScrollIndicatorBars container={container} direction={direction} />;\r\n}\r\n\r\nexport default RollingBallScrollIndicator;\r\n",
      "type": "registry:ui",
      "target": "components/ui/rolling-ball-scroll-indicator.tsx"
    }
  ]
}