{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "leave-rating",
  "type": "registry:ui",
  "dependencies": [
    "framer-motion",
    "lucide-react"
  ],
  "files": [
    {
      "path": "components/ui/leave-rating.tsx",
      "content": "'use client';\r\n\r\nimport { Star } from 'lucide-react';\r\nimport React, { useState } from 'react';\r\nimport { AnimatePresence, motion, MotionConfig } from 'framer-motion';\r\nimport { cn } from '@/lib/utils';\r\n\r\nconst MOOD_COLORS = ['#f5f5dc', '#f0f0a0', '#f5e907', '#faf32b', '#FFFF00'];\r\nconst LABELS = ['Very Bad', 'Bad', 'Average', 'Good', 'Very Good'];\r\n\r\ninterface RatingControllerProps {\r\n    hovered: number | false;\r\n    setHovered: (hovered: number | false) => void;\r\n    selected: number | false;\r\n    setSelected: (selected: number | false) => void;\r\n}\r\n\r\nconst RatingController = ({ hovered, setHovered, selected, setSelected }: RatingControllerProps) => {\r\n    return (\r\n        <div onMouseLeave={() => setHovered(false)} className=\"flex items-center justify-center gap-2\">\r\n            {Array.from({ length: 5 }).map((_, index) => {\r\n                const isActive =\r\n                    (hovered !== false && hovered >= index) ||\r\n                    (hovered === false && selected !== false && selected >= index);\r\n\r\n                return (\r\n                    <div className=\"group relative\" key={`star-${index}`}>\r\n                        <Star\r\n                            size={32}\r\n                            strokeWidth={1}\r\n                            stroke={isActive ? '#000000' : '#00000042'}\r\n                            fill={isActive ? '#FFFF00' : 'none'}\r\n                            onMouseEnter={() => setHovered(index)}\r\n                            onClick={() => setSelected(index)}\r\n                            className=\"cursor-pointer transition-all duration-100 ease-out\"\r\n                        />\r\n                        <AnimatePresence mode=\"popLayout\">\r\n                            {hovered !== false && hovered === index && (\r\n                                <motion.p\r\n                                    key={`label-${index}`}\r\n                                    initial={{ opacity: 0, transform: 'translateY(-7px) translateX(-50%) scale(0.7)' }}\r\n                                    animate={{ opacity: 1, transform: 'translateY(-7px) translateX(-50%) scale(1)' }}\r\n                                    exit={{ opacity: 0, transform: 'translateY(-7px) translateX(-50%) scale(0.7)' }}\r\n                                    transition={{ duration: 0.1, ease: 'easeOut' }}\r\n                                    className={cn(\r\n                                        'absolute bottom-full left-1/2 -translate-x-1/2 px-2 py-0.5 text-sm bg-zinc-900 text-white shadow-md whitespace-nowrap',\r\n                                        'rounded-md'\r\n                                    )}\r\n                                >\r\n                                    {LABELS[index]}\r\n                                </motion.p>\r\n                            )}\r\n                        </AnimatePresence>\r\n                    </div>\r\n                );\r\n            })}\r\n        </div>\r\n    );\r\n};\r\n\r\ninterface SmileSvgProps {\r\n    hovered: number | false;\r\n    selected: number | false;\r\n}\r\n\r\nconst SmileSvg = ({ hovered, selected }: SmileSvgProps) => {\r\n    const active = hovered !== false ? hovered : selected !== false ? selected : 4;\r\n\r\n    const smileTransition = [\r\n        'M 34 76 Q 48 42 66 76',\r\n        'M 35 72 Q 51 55 66 72',\r\n        'M 35 68 Q 50 70 66 68',\r\n        'M 34 65 Q 50 80 66 64',\r\n        'M 33 63 Q 50 95 67 64'\r\n    ];\r\n\r\n    const mouthLinePoints = [\r\n        { x1: 34, y1: 76, x2: 66, y2: 76 },\r\n        { x1: 35, y1: 72, x2: 66, y2: 72 },\r\n        { x1: 35, y1: 68, x2: 66, y2: 68 },\r\n        { x1: 34, y1: 65, x2: 66, y2: 64 },\r\n        { x1: 33, y1: 63, x2: 67, y2: 64 }\r\n    ];\r\n\r\n    const eyeStates = [\r\n        { cxL: 39, cxR: 61, cy: 42, ry: 14, pupilOffsetY: 6 },\r\n        { cxL: 39.5, cxR: 60.5, cy: 41, ry: 13, pupilOffsetY: 5.5 },\r\n        { cxL: 40, cxR: 60, cy: 40, ry: 12, pupilOffsetY: 5 },\r\n        { cxL: 40.5, cxR: 59.5, cy: 39, ry: 10, pupilOffsetY: 4 },\r\n        { cxL: 41, cxR: 59, cy: 38.5, ry: 8, pupilOffsetY: 3.5 }\r\n    ];\r\n\r\n    const faceStates = [\r\n        { scaleX: 1.05, scaleY: 0.95, rotate: -8 },\r\n        { scaleX: 1.02, scaleY: 0.98, rotate: -1 },\r\n        { scaleX: 1, scaleY: 1, rotate: 0 },\r\n        { scaleX: 0.99, scaleY: 1.025, rotate: 1 },\r\n        { scaleX: 0.98, scaleY: 1.05, rotate: 5 }\r\n    ];\r\n\r\n    const eye = eyeStates[active];\r\n    const face = faceStates[active];\r\n\r\n    return (\r\n        <div className=\"size-[200px]\">\r\n            <MotionConfig transition={{ duration: 0.5, type: 'spring', bounce: 0.25 }}>\r\n                <svg viewBox=\"0 0 100 100\">\r\n                    <motion.g animate={{ scaleX: face.scaleX, scaleY: face.scaleY, rotate: face.rotate, transformOrigin: '50% 50%' }}>\r\n                        <motion.circle cx=\"50\" cy=\"50\" r=\"40\" animate={{ fill: MOOD_COLORS[active] }} stroke=\"#000\" strokeWidth={1} />\r\n                        <motion.ellipse animate={{ cy: eye.cy, ry: eye.ry, cx: eye.cxL }} rx=\"6\" fill=\"white\" stroke=\"#000\" strokeWidth={1} />\r\n                        <motion.ellipse animate={{ cy: eye.cy + eye.pupilOffsetY, cx: eye.cxL, ry: eye.ry / 2 }} rx=\"4\" fill=\"black\" stroke=\"#000\" strokeWidth={1} />\r\n                        <motion.ellipse animate={{ cy: eye.cy, ry: eye.ry, cx: eye.cxR }} rx=\"6\" fill=\"white\" stroke=\"#000\" strokeWidth={1} />\r\n                        <motion.ellipse animate={{ cy: eye.cy + eye.pupilOffsetY, cx: eye.cxR, ry: eye.ry / 2 }} rx=\"4\" fill=\"black\" stroke=\"#000\" strokeWidth={1} />\r\n                        <motion.path initial={{ d: smileTransition[4] }} animate={{ d: smileTransition[active] }} fill=\"white\" stroke=\"#000\" strokeWidth={1.5} strokeLinecap=\"round\" />\r\n                        <motion.line\r\n                            initial={{ x1: mouthLinePoints[4].x1, x2: mouthLinePoints[4].x2, y1: mouthLinePoints[4].y1, y2: mouthLinePoints[4].y2 }}\r\n                            animate={{ x1: mouthLinePoints[active].x1, x2: mouthLinePoints[active].x2, y1: mouthLinePoints[active].y1, y2: mouthLinePoints[active].y2 }}\r\n                            stroke=\"#000\" strokeWidth={1.5} strokeLinecap=\"round\"\r\n                        />\r\n                    </motion.g>\r\n                </svg>\r\n            </MotionConfig>\r\n        </div>\r\n    );\r\n};\r\n\r\ninterface LeaveRatingProps {\r\n    onSubmit?: (selected: number | false) => void;\r\n    question?: string;\r\n    buttonText?: string;\r\n}\r\n\r\nexport function LeaveRating({\r\n    onSubmit,\r\n    question = 'How was your experience?',\r\n    buttonText = 'Submit'\r\n}: LeaveRatingProps) {\r\n    const [hovered, setHovered] = useState<number | false>(false);\r\n    const [selected, setSelected] = useState<number | false>(false);\r\n\r\n    return (\r\n        <div className=\"w-full max-w-xl p-10 flex flex-col items-center justify-center gap-6 bg-white dark:bg-zinc-900 rounded-3xl shadow-md border\">\r\n            <SmileSvg hovered={hovered} selected={selected} />\r\n            <div className=\"flex flex-col items-center justify-center gap-2\">\r\n                <p className=\"text-base text-black dark:text-white font-medium\">{question}</p>\r\n                <RatingController hovered={hovered} setHovered={setHovered} selected={selected} setSelected={setSelected} />\r\n            </div>\r\n            <button\r\n                onClick={() => onSubmit?.(selected)}\r\n                className=\"bg-blue-500 shadow-md text-sm active:scale-[0.97] hover:bg-blue-600 font-medium text-white px-4 py-2 rounded-md\"\r\n            >\r\n                {buttonText}\r\n            </button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default LeaveRating;\r\n",
      "type": "registry:ui",
      "target": "components/ui/leave-rating.tsx"
    }
  ]
}