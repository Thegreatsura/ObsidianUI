{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "masonry-grid",
  "type": "registry:ui",
  "dependencies": [
    "framer-motion"
  ],
  "files": [
    {
      "path": "components/ui/masonry-grid.tsx",
      "content": "'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport Image from 'next/image';\r\n\r\ninterface MasonryGridProps {\r\n    items: { image: string; title: string; description: string }[];\r\n    columns?: number;\r\n}\r\n\r\nexport function MasonryGrid({ items, columns }: MasonryGridProps) {\r\n    const [imagesLoaded, setImagesLoaded] = useState<{ [key: string]: boolean }>({});\r\n\r\n    if (!items || items.length === 0) {\r\n        return <div className=\"text-center p-4\">No items to display</div>;\r\n    }\r\n\r\n    const getColumnCount = () => {\r\n        if (typeof window === 'undefined') return 1;\r\n        const width = window.innerWidth;\r\n        if (width >= 1024) return 4;\r\n        if (width >= 768) return 3;\r\n        if (width >= 640) return 2;\r\n        return 1;\r\n    };\r\n\r\n    return (\r\n        <div\r\n            style={{ columns: columns }}\r\n            className={`${!columns && 'columns-1 sm:columns-2 md:columns-3 lg:columns-4'} gap-2 overflow-y-auto p-3 w-full max-w-4xl`}\r\n        >\r\n            {items.map((item, index) => {\r\n                const columnCount = columns || getColumnCount();\r\n                const rowIndex = Math.floor(index / columnCount);\r\n\r\n                return (\r\n                    <motion.div\r\n                        key={index}\r\n                        className=\"break-inside-avoid mb-4 relative group rounded-xl overflow-hidden p-1 border border-transparent hover:border-neutral-300 dark:hover:border-neutral-700\"\r\n                        initial={{ opacity: 0, y: 20 }}\r\n                        animate={{ opacity: 1, y: 0, transition: { duration: 0.5, delay: rowIndex * 0.1, ease: 'easeOut' } }}\r\n                        whileHover={{ scale: 1.05 }}\r\n                    >\r\n                        <div className=\"relative w-full flex gap-1 flex-col items-start justify-start\">\r\n                            {!imagesLoaded[item.image] && (\r\n                                <div className=\"absolute inset-0 w-full h-[300px] bg-neutral-500/50 animate-pulse rounded-lg\" />\r\n                            )}\r\n                            <Image\r\n                                src={item.image}\r\n                                alt={item.title}\r\n                                width={400}\r\n                                height={300}\r\n                                className={`w-full h-auto transition-transform duration-300 rounded-lg ${!imagesLoaded[item.image] ? 'opacity-0' : 'opacity-100'}`}\r\n                                sizes=\"(max-width: 640px) 100vw, (max-width: 768px) 50vw, (max-width: 1024px) 33vw, 25vw\"\r\n                                onLoad={() => setImagesLoaded((prev) => ({ ...prev, [item.image]: true }))}\r\n                                onError={() => setImagesLoaded((prev) => ({ ...prev, [item.image]: true }))}\r\n                            />\r\n                            {imagesLoaded[item.image] && (\r\n                                <div className=\"w-full\">\r\n                                    <h3 className=\"text-sm font-medium\">{item.title}</h3>\r\n                                    <p className=\"mt-0 text-xs text-neutral-500 line-clamp-2 overflow-hidden\">{item.description}</p>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </motion.div>\r\n                );\r\n            })}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MasonryGrid;\r\n",
      "type": "registry:ui",
      "target": "components/ui/masonry-grid.tsx"
    }
  ]
}