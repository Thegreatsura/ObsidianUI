{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "apple-spotlight",
  "type": "registry:ui",
  "dependencies": [
    "framer-motion",
    "lucide-react"
  ],
  "files": [
    {
      "path": "components/ui/apple-spotlight.tsx",
      "content": "'use client';\r\n\r\nimport { cn } from '@/lib/utils';\r\nimport { AnimatePresence, motion } from 'framer-motion';\r\nimport {\r\n    Activity,\r\n    Calendar,\r\n    ChevronRight,\r\n    Files,\r\n    Folder,\r\n    Globe,\r\n    Image as ImageIcon,\r\n    LayoutGrid,\r\n    Mail,\r\n    MessageSquare,\r\n    Music,\r\n    Search,\r\n    Settings,\r\n    StickyNote,\r\n    Terminal,\r\n    Twitter\r\n} from 'lucide-react';\r\nimport React, { useEffect, useRef, useState } from 'react';\r\n\r\ninterface Shortcut {\r\n    label: string;\r\n    icon: React.ReactNode;\r\n    link: string;\r\n}\r\n\r\ninterface SearchResult {\r\n    icon: React.ReactNode;\r\n    label: string;\r\n    description: string;\r\n    link: string;\r\n}\r\n\r\nconst SVGFilter = () => (\r\n    <svg width=\"0\" height=\"0\">\r\n        <filter id=\"blob\">\r\n            <feGaussianBlur stdDeviation=\"10\" in=\"SourceGraphic\" />\r\n            <feColorMatrix\r\n                values=\"1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 18 -9\"\r\n                result=\"blob\"\r\n            />\r\n            <feBlend in=\"SourceGraphic\" in2=\"blob\" />\r\n        </filter>\r\n    </svg>\r\n);\r\n\r\nconst ShortcutButton = ({ icon, link }: { icon: React.ReactNode; link: string }) => (\r\n    <a href={link} target=\"_blank\">\r\n        <div className=\"rounded-full cursor-pointer hover:shadow-lg opacity-30 hover:opacity-100 transition-[opacity,shadow] duration-200\">\r\n            <div className=\"size-16 aspect-square flex items-center justify-center\">{icon}</div>\r\n        </div>\r\n    </a>\r\n);\r\n\r\nconst SpotlightPlaceholder = ({ text, className }: { text: string; className?: string }) => (\r\n    <motion.div layout className={cn('absolute text-gray-500 flex items-center pointer-events-none z-10', className)}>\r\n        <AnimatePresence mode=\"popLayout\">\r\n            <motion.p\r\n                layoutId={`placeholder-${text}`}\r\n                key={`placeholder-${text}`}\r\n                initial={{ opacity: 0, y: 10, filter: 'blur(5px)' }}\r\n                animate={{ opacity: 1, y: 0, filter: 'blur(0px)' }}\r\n                exit={{ opacity: 0, y: -10, filter: 'blur(5px)' }}\r\n                transition={{ duration: 0.2, ease: 'easeOut' }}\r\n            >\r\n                {text}\r\n            </motion.p>\r\n        </AnimatePresence>\r\n    </motion.div>\r\n);\r\n\r\nconst SpotlightInput = ({\r\n    placeholder,\r\n    hidePlaceholder,\r\n    value,\r\n    onChange,\r\n    placeholderClassName\r\n}: {\r\n    placeholder: string;\r\n    hidePlaceholder: boolean;\r\n    value: string;\r\n    onChange: (value: string) => void;\r\n    placeholderClassName?: string;\r\n}) => {\r\n    const inputRef = useRef<HTMLInputElement>(null);\r\n\r\n    useEffect(() => {\r\n        inputRef.current?.focus();\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"flex items-center w-full justify-start gap-2 px-6 h-16\">\r\n            <motion.div layoutId=\"search-icon\"><Search /></motion.div>\r\n            <div className=\"flex-1 relative text-2xl\">\r\n                {!hidePlaceholder && <SpotlightPlaceholder text={placeholder} className={placeholderClassName} />}\r\n                <motion.input\r\n                    ref={inputRef}\r\n                    layout=\"position\"\r\n                    type=\"text\"\r\n                    value={value}\r\n                    onChange={(e) => onChange(e.target.value)}\r\n                    className=\"w-full bg-transparent outline-none ring-none\"\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst SearchResultCard = ({ icon, label, description, link, isLast }: SearchResult & { isLast: boolean }) => (\r\n    <a href={link} target=\"_blank\" className=\"overflow-hidden w-full group/card\">\r\n        <div className={cn(\r\n            'flex items-center text-black justify-start hover:bg-white gap-3 py-2 px-2 rounded-xl hover:shadow-md w-full',\r\n            isLast && 'rounded-b-3xl'\r\n        )}>\r\n            <div className=\"size-8 [&_svg]:stroke-[1.5] [&_svg]:size-6 aspect-square flex items-center justify-center\">{icon}</div>\r\n            <div className=\"flex flex-col\">\r\n                <p className=\"font-medium\">{label}</p>\r\n                <p className=\"text-xs opacity-50\">{description}</p>\r\n            </div>\r\n            <div className=\"flex-1 flex items-center justify-end opacity-0 group-hover/card:opacity-100 transition-opacity duration-200\">\r\n                <ChevronRight className=\"size-6\" />\r\n            </div>\r\n        </div>\r\n    </a>\r\n);\r\n\r\nconst SearchResultsContainer = ({ searchResults, onHover }: { searchResults: SearchResult[]; onHover: (index: number | null) => void }) => (\r\n    <motion.div layout onMouseLeave={() => onHover(null)} className=\"px-2 border-t flex flex-col bg-neutral-100 max-h-96 overflow-y-auto w-full py-2\">\r\n        {searchResults.map((result, index) => (\r\n            <motion.div\r\n                key={`search-result-${index}`}\r\n                onMouseEnter={() => onHover(index)}\r\n                initial={{ opacity: 0 }}\r\n                animate={{ opacity: 1 }}\r\n                exit={{ opacity: 0 }}\r\n                transition={{ delay: index * 0.1, duration: 0.2, ease: 'easeOut' }}\r\n            >\r\n                <SearchResultCard {...result} isLast={index === searchResults.length - 1} />\r\n            </motion.div>\r\n        ))}\r\n    </motion.div>\r\n);\r\n\r\ninterface AppleSpotlightProps {\r\n    shortcuts?: Shortcut[];\r\n    isOpen?: boolean;\r\n    handleClose?: () => void;\r\n}\r\n\r\nconst DEFAULT_SHORTCUTS: Shortcut[] = [\r\n    { label: 'Apps', icon: <LayoutGrid />, link: '#' },\r\n    { label: 'Files', icon: <Folder />, link: '#' },\r\n    { label: 'Actions', icon: <Activity />, link: '#' },\r\n    { label: 'Clipboard', icon: <Files />, link: '#' }\r\n];\r\n\r\nconst DEFAULT_SEARCH_RESULTS: SearchResult[] = [\r\n    { icon: <Twitter />, label: 'Twitter', description: 'Open Twitter', link: '#' },\r\n    { icon: <Globe />, label: 'Safari', description: 'Open web browser', link: '#' },\r\n    { icon: <Mail />, label: 'Mail', description: 'Open Mail', link: '#' },\r\n    { icon: <Calendar />, label: 'Calendar', description: 'View calendar', link: '#' },\r\n    { icon: <StickyNote />, label: 'Notes', description: 'Open Notes', link: '#' },\r\n    { icon: <ImageIcon />, label: 'Photos', description: 'Browse photos', link: '#' },\r\n    { icon: <Settings />, label: 'Settings', description: 'Open Settings', link: '#' },\r\n    { icon: <Terminal />, label: 'Terminal', description: 'Open Terminal', link: '#' },\r\n    { icon: <Folder />, label: 'Finder', description: 'Open Finder', link: '#' },\r\n    { icon: <MessageSquare />, label: 'Messages', description: 'Open Messages', link: '#' },\r\n    { icon: <Music />, label: 'Music', description: 'Open Music', link: '#' }\r\n];\r\n\r\nexport function AppleSpotlight({ shortcuts = DEFAULT_SHORTCUTS, isOpen = true, handleClose = () => { } }: AppleSpotlightProps) {\r\n    const [hovered, setHovered] = useState(false);\r\n    const [hoveredSearchResult, setHoveredSearchResult] = useState<number | null>(null);\r\n    const [hoveredShortcut, setHoveredShortcut] = useState<number | null>(null);\r\n    const [searchValue, setSearchValue] = useState('');\r\n\r\n    return (\r\n        <AnimatePresence mode=\"wait\">\r\n            {isOpen && (\r\n                <motion.div\r\n                    initial={{ opacity: 0, filter: 'blur(20px)', scaleX: 1.3, scaleY: 1.1, y: -10 }}\r\n                    animate={{ opacity: 1, filter: 'blur(0px)', scaleX: 1, scaleY: 1, y: 0 }}\r\n                    exit={{ opacity: 0, filter: 'blur(20px)', scaleX: 1.3, scaleY: 1.1, y: 10 }}\r\n                    transition={{ stiffness: 550, damping: 50, type: 'spring' }}\r\n                    className=\"fixed inset-0 z-50 flex flex-col items-center justify-center\"\r\n                    onClick={handleClose}\r\n                >\r\n                    <SVGFilter />\r\n                    <div\r\n                        onMouseEnter={() => setHovered(true)}\r\n                        onMouseLeave={() => { setHovered(false); setHoveredShortcut(null); }}\r\n                        onClick={(e) => e.stopPropagation()}\r\n                        className={cn(\r\n                            'w-full flex items-center justify-end gap-4 z-20 group',\r\n                            '[&>div]:bg-neutral-100 [&>div]:text-black [&>div]:rounded-full [&>div]:backdrop-blur-xl',\r\n                            '[&_svg]:size-7 [&_svg]:stroke-[1.4]',\r\n                            'max-w-3xl'\r\n                        )}\r\n                    >\r\n                        <AnimatePresence mode=\"popLayout\">\r\n                            <motion.div\r\n                                layoutId=\"search-input-container\"\r\n                                transition={{ layout: { duration: 0.5, type: 'spring', bounce: 0.2 } }}\r\n                                style={{ borderRadius: '30px' }}\r\n                                className=\"h-full w-full flex flex-col items-center justify-start z-10 relative shadow-lg overflow-hidden border\"\r\n                            >\r\n                                <SpotlightInput\r\n                                    placeholder={\r\n                                        hoveredShortcut !== null ? shortcuts[hoveredShortcut].label :\r\n                                            hoveredSearchResult !== null ? DEFAULT_SEARCH_RESULTS[hoveredSearchResult].label : 'Search'\r\n                                    }\r\n                                    placeholderClassName={hoveredSearchResult !== null ? 'text-black bg-white' : 'text-gray-500'}\r\n                                    hidePlaceholder={!(hoveredSearchResult !== null || !searchValue)}\r\n                                    value={searchValue}\r\n                                    onChange={setSearchValue}\r\n                                />\r\n                                {searchValue && <SearchResultsContainer searchResults={DEFAULT_SEARCH_RESULTS} onHover={setHoveredSearchResult} />}\r\n                            </motion.div>\r\n                            {hovered && !searchValue && shortcuts.map((shortcut, index) => (\r\n                                <motion.div\r\n                                    key={`shortcut-${index}`}\r\n                                    onMouseEnter={() => setHoveredShortcut(index)}\r\n                                    layout\r\n                                    initial={{ scale: 0.7, x: -1 * (64 * (index + 1)) }}\r\n                                    animate={{ scale: 1, x: 0 }}\r\n                                    exit={{ scale: 0.7, x: 1 * (16 * (shortcuts.length - index - 1) + 64 * (shortcuts.length - index - 1)) }}\r\n                                    transition={{ duration: 0.8, type: 'spring', bounce: 0.2, delay: index * 0.05 }}\r\n                                    className=\"rounded-full cursor-pointer\"\r\n                                >\r\n                                    <ShortcutButton icon={shortcut.icon} link={shortcut.link} />\r\n                                </motion.div>\r\n                            ))}\r\n                        </AnimatePresence>\r\n                    </div>\r\n                </motion.div>\r\n            )}\r\n        </AnimatePresence>\r\n    );\r\n}\r\n\r\nexport default AppleSpotlight;\r\n",
      "type": "registry:ui",
      "target": "components/ui/apple-spotlight.tsx"
    }
  ]
}